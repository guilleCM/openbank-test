(window["webpackJsonpopenbank-test"]=window["webpackJsonpopenbank-test"]||[]).push([[0],{34:function(e,a){e.exports="data:image/png;base64,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"},53:function(e){e.exports=JSON.parse('{"layout":{"cancel":"Cancel","next":"Next","login":"Login","return":"Back","sending":"Sending...","localeES":"Espa\xf1ol","localeEN":"English"},"wizard":{"welcome":"Welcome to the OpenClose Checking Account of ","beforeStartTitle":"Before you start","beforeStartText":"We would like to thank you for placing your trust in the OpenClose Current Account. Next we will guide you in a small form so that you can provide us with the necessary data to complete the contract","firstStepInfo":"First of all we want to make sure that you accept that we treat your data according to our data protection policy","userAgreementLabel":"I agree to the use of my data according to the data protection policy and confirm that I am of legal age","userAgreementTooltip":"You have to accept the conditions","createNewPasswordTitle":"Create your Password","createNewPasswordInfo":"To continue the process, you need to set a password to your product","passwordInputLabel":"Write down your password","passwordRepeatInputLabel":"Repeat password","passwordHintInputLabel":"Create a hint to remember the password (optional)","passwordHintInputHelp":"characters","feedbackSuccessTitle":"Your password is already created!","feedbackSuccessText":"Now you can access your product with it","feedbackErrorTitle":"There has been an error","feedbackErrorText":"Your password could not be set. Please try again later","feedbackErrorCode":"Error code"},"form":{"textMinLength":"Minimum {{amount}} characters","textMaxLength":"Maximum {{amount}} characters","containNumber":"Contains 1 number","containCapitalLetter":"Contains a capital letter","passwordMustMatch":"The password must match","required":"You must fill in this field","textExceededLength":"You must not exceed the characters"}}')},54:function(e){e.exports=JSON.parse('{"layout":{"cancel":"Cancelar","next":"Siguiente","login":"Acceder","return":"Volver","sending":"Enviando...","localeES":"Espa\xf1ol","localeEN":"English"},"wizard":{"welcome":"Bienvenid@ a la Cuenta Corriente OpenClose de ","beforeStartTitle":"Antes de empezar","beforeStartText":"Queremos agradecerle que haya depositado su confianza en la Cuenta Corriente OpenClose. A continuaci\xf3n le guiaremos en un peque\xf1o formulario para que pueda facilitarnos los datos necesarios para completar la contrataci\xf3n.","firstStepInfo":"En primer lugar queremos asegurarnos de que acepta que tratemos sus datos seg\xfan nuestra pol\xedtica de protecci\xf3n de datos.","userAgreementLabel":"Acepto el uso de mis datos seg\xfan la pol\xedtica de protecci\xf3n de datos y confirmo que soy mayor de edad","userAgreementTooltip":"Tienes que aceptar las condiciones","createNewPasswordTitle":"Crea tu Contrase\xf1a","createNewPasswordInfo":"Para continuar con el proceso, es necesario que configure una contrase\xf1a a su producto.","passwordInputLabel":"Escribe tu contrase\xf1a","passwordRepeatInputLabel":"Repite la contrase\xf1a","passwordHintInputLabel":"Crear una pista para recordar la contrase\xf1a (opcional)","passwordHintInputHelp":"caracteres","feedbackSuccessTitle":"Tu password ya est\xe1 creada!","feedbackSuccessText":"Ahora puedes acceder a tu producto con ella.","feedbackErrorTitle":"Ha habido un error","feedbackErrorText":"No se ha podido establecer tu contrase\xf1a. Por favor, intentalo m\xe1s tarde.","feedbackErrorCode":"C\xf3digo de error"},"form":{"textMinLength":"M\xednimo {{amount}} caracteres","textMaxLength":"M\xe1ximo {{amount}} caracteres","containNumber":"Contiene 1 n\xfamero","containCapitalLetter":"Contiene una may\xfascula","passwordMustMatch":"La contrase\xf1a debe coincidir","required":"Debes rellenar este campo","textExceededLength":"No debes exceder los caracteres"}}')},56:function(e,a,t){e.exports=t(81)},61:function(e,a,t){},77:function(e,a,t){},78:function(e,a,t){},79:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var r,n=t(0),o=t.n(n),s=t(14),l=t.n(s),c=(t(61),t(12)),i=t(7),d=t(52),u=t(43),p=t(29),m=t(88),w=t(9),f=t(31),g=t(24),h=Object(g.c)({name:"app",initialState:{locale:"es"},reducers:{setLocale:function(e,a){e.locale=a.payload}}}),b=h.actions.setLocale,E=h.reducer,v=t(34),k=t.n(v),y=t(37),x=t(42),A=t.n(x),L=t(50),N={status:200},O={status:401},T=function(e,a,t){return new Promise((function(a,t){return setTimeout((function(){return"pruebaKO123"!==e?a(N):t(O)}),2e3)}))},S=Object(g.b)("wizard/fetchForm",function(){var e=Object(L.a)(A.a.mark((function e(a,t){var r,n,o,s;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.password,a.passwordRepeat,a.passwordHint,n=t.getState,o=t.rejectWithValue,"pending"===n().wizard.loading){e.next=5;break}return e.abrupt("return");case 5:return e.prev=5,e.next=8,T(r);case 8:return s=e.sent,e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",o(e.t0.status));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(a,t){return e.apply(this,arguments)}}()),C=Object(g.c)({name:"wizard",initialState:{step:1,totalSteps:3,loading:"idle",password:void 0,passwordHint:void 0,error:!1},reducers:{increment:function(e){e.step+=1},decrement:function(e){e.step-=1,1===e.step&&(e.password=void 0,e.passwordHint=void 0)},goToFormStep:function(e){e.step=2,e.error=!1}},extraReducers:(r={},Object(y.a)(r,S.pending,(function(e){"idle"===e.loading&&(e.loading="pending")})),Object(y.a)(r,S.fulfilled,(function(e,a){"pending"===e.loading&&(e.loading="idle",e.password=a.meta.arg.password,e.passwordHint=a.meta.arg.passwordHint,e.step=3)})),Object(y.a)(r,S.rejected,(function(e,a){"pending"===e.loading&&(e.loading="idle",e.password=a.meta.arg.password,e.passwordHint=a.meta.arg.passwordHint,e.step=3,e.error=a.payload)})),r)}),H=C.actions,j=H.increment,B=H.decrement,R=H.goToFormStep,z=function(e){return e.wizard.error},M=function(e){return"pending"===e.wizard.loading},P=function(e){return e.wizard.step},I=function(e){return e.wizard.totalSteps},U=function(e){return e.wizard.password},J=function(e){return e.wizard.passwordHint},W=C.reducer,F=t(18),Y=t(10),Q=t(20),q=t(16);var D=function(){var e=Object(i.b)(),a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],s=t[1],l=Object(w.c)(),d=Object(c.a)(l,1)[0];return o.a.createElement(F.a,null,o.a.createElement(Y.a,{md:{span:10,offset:1},lg:{span:8,offset:2}},o.a.createElement("h1",{style:{marginTop:"1rem"}},d("wizard:welcome")," ",o.a.createElement("img",{src:k.a,alt:"OpenBank"})),o.a.createElement("h3",null,d("wizard:beforeStartTitle")),o.a.createElement("p",null,d("wizard:beforeStartText")),o.a.createElement("p",null,d("wizard:firstStepInfo")),o.a.createElement(Q.a,{label:d("wizard:userAgreementLabel"),type:"checkbox",name:"userAgreementCheckbox",role:"inputUserAgreement",style:{paddingBottom:"1rem"},checked:r,onChange:function(){return s(!r)}}),o.a.createElement(q.a,{className:"float-right",variant:"secondary",role:"nextStepButton",disabled:!r,title:r?"":d("wizard:userAgreementTooltip"),onClick:function(){return e(j())}},d("layout:next"))))},V=t(44),Z=t(8),G=t(51),X=(t(77),[{name:"password",required:!0,minLength:4,maxLength:24,validateMethods:{containNumber:function(e){return null!==e.match(/\d+/g)},containCapital:function(e){return null!==e.match(/[A-Z]/g)}}},{name:"passwordRepeat",required:!0,validateMethods:{matchFirstPassword:function(e){return e===document.querySelector("#password").value}}},{name:"passwordHint",required:!1,minLength:0,maxLength:255}]);var K=function(){var e=Object(i.c)(M),a=Object(i.c)(U),t=Object(i.c)(J),r=Object(i.b)(),s=Object(n.useState)(!1),l=Object(c.a)(s,2),d=l[0],u=l[1],p=Object(n.useState)(t?t.length:0),m=Object(c.a)(p,2),f=m[0],g=m[1],h=X.filter((function(e){return"password"===e.name}))[0],b=X.filter((function(e){return"passwordHint"===e.name}))[0].maxLength,E=Object(n.useState)(!1),v=Object(c.a)(E,2),k=v[0],y=v[1],x=Object(w.c)(),A=Object(c.a)(x,1)[0],L=function(e){e.preventDefault();var a=function(e){var a={};return e.map((function(e){e.errors=[];var t=document.querySelector("#".concat(e.name)).value.trim();if(e.value=t,e.required&&""===t&&e.errors.push("required"),e.minLength&&t.length<e.minLength&&e.errors.push("minLength"),e.maxLength&&t.length>e.maxLength&&e.errors.push("maxLength"),e.validateMethods){var r=Object.getOwnPropertyNames(e.validateMethods).filter((function(a){return!e.validateMethods[a](t)}));r.length&&(e.errors=[].concat(Object(V.a)(e.errors),Object(V.a)(r)))}return e.errors.length&&(a[e.name]=e.errors),e})),a}(X);if(Object.keys(a).length)u(!0),y(a),g(X.filter((function(e){return"passwordHint"===e.name}))[0].value.length);else{var t=X.filter((function(e){return"password"===e.name}))[0].value,n=X.filter((function(e){return"passwordRepeat"===e.name}))[0].value,o=X.filter((function(e){return"passwordHint"===e.name}))[0].value;r(S({password:t,passwordRepeat:n,passwordHint:o}))}};return Object(n.useEffect)((function(){window.scrollTo(0,0),document.querySelector("#password").focus()}),[]),o.a.createElement(F.a,null,o.a.createElement(Y.a,{md:{span:10,offset:1},lg:{span:8,offset:2}},e?o.a.createElement("div",{className:"openbank-loader"},o.a.createElement(G.a,{animation:"border",role:"status",variant:"primary"},o.a.createElement("span",{className:"sr-only"},A("layout:sending"))),o.a.createElement("h1",null,A("layout:sending"))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{style:{marginTop:"1rem"}},A("wizard:createNewPasswordTitle")),o.a.createElement("p",null,A("wizard:createNewPasswordInfo")),o.a.createElement(Z.a,{onSubmit:function(e){return L(e)},role:"openbankForm"},o.a.createElement(Z.a.Row,null,o.a.createElement(Z.a.Group,{as:Y.a,controlId:"password"},o.a.createElement(Z.a.Label,null,o.a.createElement("strong",null,A("wizard:passwordInputLabel")," *")),o.a.createElement(Z.a.Control,{type:"password",role:"inputPassword",placeholder:"",defaultValue:a||"",isInvalid:d&&void 0!==k.password,isValid:d&&void 0===k.password}),o.a.createElement(Z.a.Text,{id:"passwordHelpBlock",role:"inputPasswordHelpBlock",muted:!0},o.a.createElement("ul",{className:d&&void 0!==k.passwordRepeat?"help-block-with-errors":""},o.a.createElement("li",{className:!d||k.password&&k.password.includes("minLength")?"":"help-text-validated"},A("form:textMinLength",{amount:h.minLength})),o.a.createElement("li",{className:!d||k.password&&k.password.includes("maxLength")?"":"help-text-validated"},A("form:textMaxLength",{amount:h.maxLength})),o.a.createElement("li",{className:!d||k.password&&k.password.includes("containNumber")?"":"help-text-validated"},A("form:containNumber")),o.a.createElement("li",{className:!d||k.password&&k.password.includes("containCapital")?"":"help-text-validated"},A("form:containCapitalLetter")),d&&k.password&&k.password.includes("required")&&o.a.createElement("li",null,A("form:required"))))),o.a.createElement(Z.a.Group,{as:Y.a,controlId:"passwordRepeat"},o.a.createElement(Z.a.Label,null,o.a.createElement("strong",null,A("wizard:passwordRepeatInputLabel")," *")),o.a.createElement(Z.a.Control,{type:"password",role:"inputPasswordRepeat",placeholder:"",defaultValue:a||"",isInvalid:d&&void 0!==k.passwordRepeat,isValid:d&&void 0===k.passwordRepeat}),o.a.createElement(Z.a.Text,{id:"passwordRepeatHelpBlock",role:"inputPasswordRepeatHelpBLock",muted:!0},o.a.createElement("ul",{className:d&&void 0!==k.passwordRepeat?"help-block-with-errors":""},o.a.createElement("li",{className:!d||k.passwordRepeat&&k.passwordRepeat.includes("matchFirstPassword")?"":"help-text-validated"},A("form:passwordMustMatch")),d&&k.passwordRepeat&&k.passwordRepeat.includes("required")&&o.a.createElement("li",null,A("form:required")))))),o.a.createElement(Z.a.Group,{controlId:"passwordHint"},o.a.createElement(Z.a.Label,null,o.a.createElement("strong",null,A("wizard:passwordHintInputLabel"))),o.a.createElement(Z.a.Control,{type:"text",role:"inputPasswordHint",placeholder:"",defaultValue:t||"",isInvalid:d&&void 0!==k.passwordHint,isValid:d&&void 0===k.passwordHint}),o.a.createElement(Z.a.Text,{id:"passwordHintHelpBlock",role:"inputPasswordHintHelpBlock",muted:!0},o.a.createElement("ul",{className:d&&void 0!==k.passwordHint?"help-block-with-errors":""},o.a.createElement("li",{className:!d||k.passwordHint&&k.passwordHint.includes("maxLength")?"":"help-text-validated"},"".concat(f,"/").concat(b," ").concat(A("wizard:passwordHintInputHelp"))),d&&k.passwordHint&&k.passwordHint.includes("maxLength")&&o.a.createElement("li",null,A("form:textExceededLength"))))),o.a.createElement(q.a,{variant:"outline-secondary",onClick:function(){return r(B())}},A("layout:cancel")),o.a.createElement(q.a,{className:"float-right",variant:"secondary",type:"submit",role:"submitButton"},A("layout:next"))))))},$=t(86),_=t(87);function ee(e){var a=Object(i.b)(),t=Object(w.c)(),r=Object(c.a)(t,1)[0];return o.a.createElement(Y.a,{md:{span:10,offset:1},lg:{span:8,offset:2}},o.a.createElement("h1",{style:{marginTop:"1rem"}},o.a.createElement($.a,{size:48})," ",r("wizard:feedbackErrorTitle")),o.a.createElement("p",null,r("wizard:feedbackErrorText")),o.a.createElement("small",{style:{marginBottom:"1rem"},className:"error-text"},"".concat(r("wizard:feedbackErrorCode"),": ").concat(e.errorCode)),o.a.createElement(q.a,{className:"float-right",variant:"outline-primary",role:"backToFormStepButton",onClick:function(){return a(R())}},r("layout:return")))}function ae(){var e=Object(w.c)(),a=Object(c.a)(e,1)[0];return o.a.createElement(Y.a,{md:{span:10,offset:1},lg:{span:8,offset:2}},o.a.createElement("h1",{style:{marginTop:"1rem"}},o.a.createElement(_.a,{size:48})," ",a("wizard:feedbackSuccessTitle")),o.a.createElement("p",null,a("wizard:feedbackSuccessText")),o.a.createElement(q.a,{className:"float-right",variant:"outline-primary",role:"loginButton"},a("layout:login")))}var te=function(){var e=Object(i.c)(z);return o.a.createElement(F.a,null,!1===e?o.a.createElement(ae,null):o.a.createElement(ee,{errorCode:e}))};t(78);var re=function(){var e=Object(i.c)(P),a=Object(i.c)(I);return o.a.createElement(F.a,null,o.a.createElement(Y.a,{md:{span:10,offset:1},lg:{span:8,offset:2}},o.a.createElement("div",{className:"openbank-stepper-horizontal openbank-theme"},Array.from(Array(a).keys()).map((function(a){var t=["openbank-step"];return a+1===e&&t.push("active"),a+1<e&&t.push("done"),o.a.createElement("div",{className:t.join(" "),key:"step".concat(a)},o.a.createElement("div",{className:"openbank-step-circle"},o.a.createElement("span",null,a+1)),o.a.createElement("div",{className:"openbank-step-bar-left"}),o.a.createElement("div",{className:"openbank-step-bar-right"}))})))))};var ne=function(){var e=Object(i.c)(P);return o.a.createElement(o.a.Fragment,null,o.a.createElement(re,null),1===e&&o.a.createElement(D,null),2===e&&o.a.createElement(K,null),3===e&&o.a.createElement(te,null))};t(79);var oe=function(){var e=Object(w.c)(),a=Object(c.a)(e,1)[0],t=Object(i.b)(),r=function(e){f.a.changeLanguage(e).then(t(b(e)))};return o.a.createElement("div",{className:"App"},o.a.createElement("main",{className:"App-content"},o.a.createElement(u.a,{bg:"light",className:"openbank-nav"},o.a.createElement(u.a.Brand,{href:"#"},o.a.createElement("img",{src:k.a,height:"30",className:"d-inline-block align-top",alt:"Openbank logo"})),o.a.createElement(p.a,{className:"ml-auto",alignRight:!0},o.a.createElement(p.a.Toggle,{id:"dropdown-locale"},o.a.createElement(m.a,null)),o.a.createElement(p.a.Menu,null,o.a.createElement(p.a.Item,{href:"#",onClick:function(){return r("es")}},a("layout:localeES")),o.a.createElement(p.a.Item,{href:"#",onClick:function(){return r("en")}},a("layout:localeEN"))))),o.a.createElement(d.a,null,o.a.createElement(ne,null))))},se=Object(g.a)({reducer:{app:E,wizard:W}}),le=t(53),ce=t(54);f.a.use(w.b).init({resources:{en:le,es:ce},fallbackLng:"es",debug:!1,ns:["translations"],defaultNS:"translations",keySeparator:!1,interpolation:{escapeValue:!1,formatSeparator:","},react:{wait:!0}});var ie=f.a;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(i.a,{store:se},o.a.createElement(w.a,{i18n:ie},o.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[56,1,2]]]);
//# sourceMappingURL=main.fb04281b.chunk.js.map